(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(8),o=n.n(s),i=(n(15),n(6)),c=n(1),l=n(2),u=n(4),m=n(3),h=n(5),p=(n(16),function(e){var t=e.timerStarted,n=e.startTimer,a=e.stopTimer;return r.a.createElement("button",{className:"btn btn-light btn-lg mb-5",onClick:t?a:n},t?"Pause":"Start")}),d=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("h4",null,this.formatTime(this.props.secondsPassed))}},{key:"formatTime",value:function(e){var t=parseInt(e,10),n=Math.floor(t/3600),a=Math.floor((t-3600*n)/60),r=t-3600*n-60*a;return this.formatDigit(n)+":"+this.formatDigit(a)+":"+this.formatDigit(r)}},{key:"formatDigit",value:function(e){return e<10?"0"+e:e}}]),t}(r.a.Component),f=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement("input",{className:"form-control col-5 d-inline",autoFocus:!0,type:"text",name:"name",required:!0,placeholder:"Name"}),r.a.createElement("input",{className:"form-control col-5 d-inline",type:"number",name:"salary",required:!0,placeholder:"Monthly salary"}),r.a.createElement("button",{className:"btn",type:"submit"},r.a.createElement("i",{className:"fas fa-plus-circle"})))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=new FormData(e.target);e.target.reset(),this.props.addPerson(t.get("name"),t.get("salary"))}}]),t}(r.a.Component),v=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={name:n.props.name,salary:n.props.salary},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("input",{className:"form-control col-5 d-inline",type:"text",placeholder:"Name",value:this.state.name,onChange:this.handleNameChange.bind(this)}),r.a.createElement("input",{className:"form-control col-5 d-inline",type:"number",placeholder:"Salary",value:this.state.salary,onChange:this.handleSalaryChange.bind(this)}),r.a.createElement("button",{className:"btn",onClick:this.removePerson.bind(this)},r.a.createElement("i",{className:"fas fa-times-circle"})))}},{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleSalaryChange",value:function(e){var t=e.target.value?parseInt(e.target.value):0;this.setState({salary:t}),this.props.salaryChange(t,this.props.personIdx)}},{key:"removePerson",value:function(){this.props.removePerson(this.props.personIdx)}}]),t}(r.a.Component),b=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"persons-list"},this.props.personsPresent.map(function(t,n){return r.a.createElement(v,{key:"".concat(t.name).concat(n),salary:t.salary,name:t.name,removePerson:e.props.removePerson,salaryChange:e.props.salaryChange,personIdx:n})}))}}]),t}(r.a.Component),y=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h5",{className:"mb-4"},"Add all present people"),r.a.createElement(f,{addPerson:this.props.addPerson}),r.a.createElement(b,{personsPresent:this.props.personsPresent,removePerson:this.props.removePerson,salaryChange:this.props.salaryChange}))}}]),t}(r.a.Component),g=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("h1",null,r.a.createElement("strong",null,this.props.totalPrice," ",this.props.currency))}}]),t}(r.a.Component),P=function(e){function t(){return Object(c.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{className:"btn btn-light float-right mt-4",onClick:this.props.onReset},"Reset time")}}]),t}(r.a.Component),j=function(e){var t=e.currency,n=e.hourPrice;return r.a.createElement("h3",null,r.a.createElement("strong",null,Math.round(100*n)/100," ",t," / 1h"))},O=576e3,E=160,w=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(n=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={timerStarted:!1,meetingPrice:0,secondsPassed:0,currency:"PLN",personsPresent:[{name:"Jon",salary:2e4},{name:"Johan",salary:2e4}]},n.timerInterval=null,n.startTimer=function(){clearInterval(n.timerInterval),n.setState({timerStarted:!0}),n.timerInterval=setInterval(function(){var e=n.state.secondsPassed+1;n.setState({secondsPassed:e,meetingPrice:(parseFloat(n.state.meetingPrice)+n.countSecPrice()).toFixed(2)})},1e3)},n.stopTimer=function(){n.setState({timerStarted:!1}),clearInterval(n.timerInterval)},n.resetTimer=function(){n.setState({timerStarted:!1,secondsPassed:0,meetingPrice:0}),clearInterval(n.timerInterval)},n.getMonthlyPrice=function(){var e=0;for(var t in n.state.personsPresent)e+=parseFloat(n.state.personsPresent[t].salary);return e},n.countSecPrice=function(){return n.getMonthlyPrice()/O},n.countHourPrice=function(){return n.getMonthlyPrice()/E},n.addPerson=function(e,t){n.setState({personsPresent:[{name:e,salary:t}].concat(Object(i.a)(n.state.personsPresent))})},n.salaryChange=function(e,t){var a=Object(i.a)(n.state.personsPresent);a[t]={name:a[t].name,salary:e},n.setState({personsPresent:a})},n.removePerson=function(e){var t=Object(i.a)(n.state.personsPresent);t.splice(e,1),n.setState({personsPresent:t})},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row app"},r.a.createElement("h1",{className:"col-12 text-center mt-5 pt-xl-5 mb-3"},"How much does your meeting cost?"),r.a.createElement("div",{className:"app-header col-12 col-xl-7"},r.a.createElement("div",null,r.a.createElement(p,{timerStarted:this.state.timerStarted,stopTimer:this.stopTimer,startTimer:this.startTimer}),r.a.createElement(d,{secondsPassed:this.state.secondsPassed}),r.a.createElement(g,{totalPrice:this.state.meetingPrice,currency:this.state.currency}),r.a.createElement(j,{hourPrice:this.countHourPrice(),currency:this.state.currency}))),r.a.createElement("div",{className:"side-form col-12 col-xl-5"},r.a.createElement(y,{personsPresent:this.state.personsPresent,addPerson:this.addPerson,removePerson:this.removePerson,salaryChange:this.salaryChange}))),r.a.createElement(P,{onReset:this.resetTimer}))}}]),t}(a.Component),k=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function C(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}o.a.render(r.a.createElement(w,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/meeting-price",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/meeting-price","/service-worker.js");k?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):C(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):C(t,e)})}}()},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.827506cf.chunk.js.map